import{r as a,U as h,u as x,j as e,a as j}from"./index-Bthk9XPv.js";const w=()=>{const{setCurUser:o}=a.useContext(h),[n,i]=a.useState({}),u=x(),l="https://novarride.onrender.com/api",c=async r=>{r.preventDefault();const{userEmail:d,userPassword:m}=r.target,p={email:d.value,password:m.value};try{const s=await(await fetch(`${l}/users/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p),credentials:"include"})).json();i(s),console.log(s),s.status==="succasse"&&(o(g=>(j("curUser",s.data.user),s.data.user)),u("/"))}catch(t){console.log(t)}};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:c,className:"auth_form",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userEmail",children:"Enter Your Email"})," ",e.jsx("br",{}),e.jsx("input",{type:"email",name:"userEmail",id:"userEmail",required:!0,placeholder:"Enter Your Email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userPassword",children:"Enter Your Password"})," ",e.jsx("br",{}),e.jsx("input",{type:"password",name:"userPassword",id:"userPassword",required:!0,placeholder:"Enter Your Password"})]}),e.jsx("button",{children:"Login"}),e.jsx("p",{style:{marginTop:"20px",color:"red"},children:n.message})]})})};export{w as default};
