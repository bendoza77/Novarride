import{r as a,U as p,u as h,j as e,a as x}from"./index-BDlMBCgX.js";const E=()=>{const{setCurUser:o}=a.useContext(p),[n,i]=a.useState({}),l=h(),u=async r=>{r.preventDefault();const{userEmail:c,userPassword:d}=r.target,m={email:c.value,password:d.value};try{const s=await(await fetch("http://localhost:3000/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m),credentials:"include"})).json();i(s),console.log(s),s.status==="succasse"&&(o(j=>(x("curUser",s.data.user),s.data.user)),l("/"))}catch(t){console.log(t)}};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:u,className:"auth_form",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userEmail",children:"Enter Your Email"})," ",e.jsx("br",{}),e.jsx("input",{type:"email",name:"userEmail",id:"userEmail",required:!0,placeholder:"Enter Your Email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userPassword",children:"Enter Your Password"})," ",e.jsx("br",{}),e.jsx("input",{type:"password",name:"userPassword",id:"userPassword",required:!0,placeholder:"Enter Your Password"})]}),e.jsx("button",{children:"Login"}),e.jsx("p",{style:{marginTop:"20px",color:"red"},children:n.message})]})})};export{E as default};
