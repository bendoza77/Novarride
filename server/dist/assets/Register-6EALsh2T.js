import{r as o,U as b,u as v,j as e,a as l}from"./index-Bthk9XPv.js";const w=()=>{const{setUsers:u,setCurUser:i}=o.useContext(b),[d,c]=o.useState({}),m=v(),h="https://novarride.onrender.com/api",x=async t=>{t.preventDefault();const{userName:p,userEmail:j,userLastName:N,userPhone:g,userPassword:E}=t.target,r={fullName:`${p.value} ${N.value}`,email:j.value,password:E.value,phone:g.value};try{const s=await(await fetch(`${h}/users/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"})).json();c(s),console.log(s),s.status==="succasse"&&(u(a=>(l("users",[...a,r]),[...a,r])),i(a=>(l("curUser",r),r)),m("/"))}catch(n){console.error(n)}};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:x,className:"register_form",children:[e.jsxs("div",{className:"reg_first",children:[e.jsxs("div",{className:"reg_name",children:[e.jsx("label",{htmlFor:"userName",children:"Enter Your Name"})," ",e.jsx("br",{}),e.jsx("input",{type:"text",name:"userName",id:"userName",placeholder:"Enter Your Name",required:!0})]}),e.jsxs("div",{className:"reg_lastname",children:[e.jsx("label",{htmlFor:"userLastName",children:"Enter Your Name"})," ",e.jsx("br",{}),e.jsx("input",{type:"text",name:"userLastName",id:"userLastName",placeholder:"Enter Your Last Name",required:!0})]})]}),e.jsxs("div",{className:"reg_second",children:[e.jsx("label",{htmlFor:"userPhone",children:"Enter Your Mobile No."})," ",e.jsx("br",{}),e.jsx("input",{type:"text",name:"userPhone",id:"userPhone",placeholder:"Enter Your Mobile No.",required:!0})]}),e.jsxs("div",{className:"reg_third",children:[e.jsxs("div",{className:"reg_email",children:[e.jsx("label",{htmlFor:"userEmail",children:"Enter Your Email"})," ",e.jsx("br",{}),e.jsx("input",{type:"email",name:"userEmail",id:"userEmail",placeholder:"Enter Your Email",required:!0})]}),e.jsxs("div",{className:"reg_password",children:[e.jsx("label",{htmlFor:"userPassword",children:"Enter Your Password"})," ",e.jsx("br",{}),e.jsx("input",{type:"password",name:"userPassword",id:"userPassword",placeholder:"Enter Your Password",required:!0})]})]}),e.jsx("button",{children:"Create Accounte"}),e.jsx("p",{style:{marginTop:"20px",color:"red"},children:d.message})]})})};export{w as default};
